<app-spinner [spinnerstatus] = "spinnerstatus"></app-spinner>
<div class="card m-3" #addRequesterRef>
    <h3 class="card-header bold">Add Reference Details</h3>
    <div class="card-body" width="100%">
        <form [formGroup]="requesterRefForm">
            <div class="form-row">
                <div class="form-group col-10">
                    <label><b>Requester : </b></label><label style="color: blue;"><b>{{requesterName}}</b></label><br>
                    <label>Reference </label>
                    <input type="text" formControlName="referenceNo" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.referenceNo.errors }" />
                    <div *ngIf="submitted && f.referenceNo.errors" class="invalid-feedback">
                        <div *ngIf="f.referenceNo.errors.required">Reference is required</div>
                    </div>
                  
                </div>
            </div>
            <div class="form-row">
                <div class="form-group col-4">
                        <label>Request Mode</label>
                        <select  formControlName="requestMode" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.requestMode.errors }">
                            <option value=""></option>
                            <option value="Email">Email</option>
                            <option value="Post">Post</option>
                        </select>
                </div>                       

                <div class="form-group col-6">
                    <label>Received Date</label>
                    <input type="date"  formControlName="reqRcvDate" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.reqRcvDate.errors }" />
                    <div *ngIf="submitted && f.reqRdvDate.errors" class="invalid-feedback">
                        <div *ngIf="f.reqRdvDate.errors.required">Request Received Date is required</div>
                        <div *ngIf="f.reqRdvDate.errors.pattern">Date must be a valid date in the format YYYY-MM-DD</div>
                    </div>
                </div>
            </div>
            <div class="form-row">
                <div class="form-group col-6">
                            <label>Email Id</label>
                            <input type="text" formControlName="emailId" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.emailId.errors }" />
                            <div *ngIf="submitted && f.emailId.errors" class="invalid-feedback">
                                <div *ngIf="f.emailId.errors.required">Email is required</div>
                                <div *ngIf="f.emailId.errors.emailId">Email must be a valid Email Id/Address</div>
                            </div>
                </div>
                <div class="form-group col-4">
                    <label>Contact Number</label>
                    <input type="number" formControlName="contactNumber" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.contactNumber.errors }" />
                    <div *ngIf="submitted && f.contactNumber.errors" class="invalid-feedback">
                        <div *ngIf="f.contactNumber.errors.required">Contact Number is required</div>
                    </div>
                </div>
            </div>
            <div class="form-row" >
                <div class="text-center form-group col">
                    <button type="submit" class="btn btn-primary mr-1"  (click) ="onSubmit()" >Save</button>
                    <button type="button"  class="btn btn-primary mr-1"  (click) ="onBackClose()" >Back</button>
                </div>
            </div>
        </form>
    </div> 
</div>
<app-message></app-message>
